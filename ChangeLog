1.6b4

Core
  * Bugfix: Fixed SQL syntax error in MySQL auth backend
  * Bugfix: Fixed login problems in opera (Not setting auth cookie when
    using ip addresses as host address
  * Removed option "-B" from installer, it is not needed anymore
  * Installer skips .gitignore files during installation now
  * Added exclude_members and exclude_member_states options to stateful
  objects for excluding specific member objects completely or only during summary
  state calculations.
  * Several code cleanups
  * Cleanup: Consolidated code of main handlers ajax_handler and frontend index
  * Cleanup: Recoded message class calls to exceptions
  * omd_install.sh can now be called from other directories
  * Allowing more unicode signs in e.g. map aliases
  * Added new icon *_unreachable icon to represent the UNREACHABLE host state
  * Backends can now override the NagVis summary_output/summary_state algorithms
    to provide their own custom information
  * Added NagiosBP backend to connect directly to NagiosBP using the JSON API
    Thanks to Bacher Systems (bacher.at) for providing this backend.

Frontend
  * Readded the "edit" action to the maps module. In this mode all object are
    automatically unlocked and changes to the lock state are not persisted
  * Also disabling the object left click actions in unlocked mode
  * Icon/Gadget/Shape/Textbox dragging is done by dragging the real icons
  again, like it was in WUI before. The drag controls for these objects has been removed.
  * Sorting maps on overview page and in multisite snapin by aliases
  * Bugfix: Fixed several umlauts in edit mode warning messages
  * Bugfix: Fixed 100% sidebar height
  * Bugfix: Fixed initial positioning of relative positioned gadgets
  * Bugfix: Fixed dragging handling of relative positioned gadgets
  * Bugfix: Fixed backendid showing up in host_name field of add/modify dialog
    in some rare cases
  * Bugfix: Object positions can never be floats (always integers)
  * Bugfix: Fixed wrong positions of controls during page load (at least in firefox)
  * Bugfix: Registering drag stop event globally to prevent dragging problems
    on slower clients
  * Bugfix: Fixed javascript error "Error: attempt to run compile-and-go script on a cleared scope"
    after changed main configuration file in FF4
  * Bugfix: Fixed hanging controls/labels when dragging objects out of screen
  * Bugfix: It is now possible to unset backend attributes using the "Edit backend" dialog
  * Bugfix: It is now possible to choose none as map_image in map options to
    disable the background image

Automap
  * Bugfix: Made the problem automap work again

1.6b3

Frontend
  * Frontend hides ajax/json errors now after first successfull action of that
  type
  * Header menu does not wrap anymore on small browser windows
  * Bugfix: Fixed background image positioning with enabled sidebar and small screens
  * Bugfix: Fixed coloring of two part lines in IE
  * Bugfix: Fixed drawing of second part in two part lines in IE
  * Bugfix: Preventing text selections while dragging objects in IE
  * Bugfix: Fixed undefied var error when having no maps and displaying the overview page
  * Bugfix: Fixed problem with rotation links in header menu with IE8
  * Bugfix: A lot of links were not working in IE caused by a broken event handler
  * Bugfix: Preventing JS errors when dragging objects out of screen

Core
  * omd_install: Installing missing doc/ dir now; Cleaning cache files on install
  * Checking read permissions before reading directory contents
  * Main Config: [paths] "gadget, icon, shape, map" internal options are now
    deprecated and have been renamed to "gadgets, icons, shapes, backgrounds".
  * Bugfix: Added backgrounds/styles [paths] options to main cfg definitions
  * Bugfix: Fixed comment line mixup in main config when using multiple
    config files
  * Bugfix: Not storing config options from other config files like the OMD
    site config in nagvis.ini.php anymore

Automap
  * Improved coordinate parsing regex to match graphviz output of more versions
  * Commented out __dummy__ host in sample automap config to prevent
    confusions with the automaps host urls


1.6b2

Core
  * Added omd_install.sh to install NagVis to the local/ path of OMD sites
    (ONLY FOR TESTING!!!)
  * Main Config: [paths] "wuijs" and "htmlwuijs" are now deprecated
  * Bugfix: MKivestatus backend does correct type casting to integers for stats now
  * Bugfix: NDO Backend: Fixed wrong SQL syntax in getHostState function
  * Bugfix: NDO Backend: Fixed wrong hard state handling
  * Bugfix: Fixed redirects after map add/rename/delete
  * Bugfix: NDO backend does correct type casting to integers for stats now (Thanks to Oliver Graf)
  * Bugfix: Fixed false CRITICAL states when using NDO Backend (Thanks to Oliver Graf)
  * Bugfix: Added missing permissions for User/setOption
  * Bugfix: Fixed javascript error "getSidebarWidth() not definied" when header menu is disable by config

Automap
  * Added new context menu action "make root" to automap nodes to change the
    root of the automap on-the-fly (Thanks to Oliver Graf)
  * Bugfix: Fixed parent calculation in automap (Thanks to Oliver Graf)
  * Bugfix: Automap could not be used in IE due to javascript error

Frontend
  * Labels of objects can now be moved again; The edit mode is affected by the objects lock/unlock state
  * Labels of lines with line_type=14 have more offset now to look better when using horizontal lines
  * While objects are unlocked the hover menus are disabled
  * Controls are now resizable using the config option controls_size in [global] section in nagvis.ini.php
  * Documentation link in header menu only points to available docs. Fallback is en_US
  * Bugfix: Added missing controls to services which are displayed as gadgets
  * Bugfix: Fixed parsing of label_type=14 lines (Thanks to Laurent Lebatard)
  * Bugfix: Label positioning in case of weathermap lines (Thanks to Laurent Lebatard)
  * Bugfix: Fixed empty warning popups in map management dialogs
  * Bugfix: Fixed color selection of weathermap lines (Thanks to Laurent Lebatard)

1.6b1

Core
  * Default admin credentials for inital auth databases are now: User: admin Password: admin
    Admin credentials in existing auth databases are not changed.
  * Added user/role profile config files located in nagvis/etc/profiles/(user|role).profile
    The profile files can contain user/role specific options like languages and so on
  * The language of a user is stored in the profile file now
  * The eventlog hide state is stored in the profile file now and used when the eventlog is enabled for a map
  * Added new options {file_group} and {file_mode} to global section of nagvis.ini.php.
    These options are used whenever a file is written by NagVis
  * Livestatus backend: Better error handling when writing to livestatus socket
  * Lines can have three coords now to reposition the middle of lines having
    two arrows
  * Better handling for map config errors on overview page and map links -
    no whole screen errors anymore
  * The check_command parameter is available in NagVis now. NDO and
    MKLivestatus backends fetch this info from the datasources now
  * Hostgroup and Servicegroup aliases work again now. It might be neccessary
    to update livestatus to the newest 1.1.9i* version.
  * All map objects need to have an object id which needs to be unique on
    each map. All map objects which have no object id defined will ge one
    created. This makes migration easier.
  * Catching ps_files_cleanup_dir error message (strange error debian/ubuntu)
  * Changed PENDING state for host objects to UNCHECKED; This was needed to
    prevent mixups with service and host objects
  * Fixed inconsistence with iconsets when refreshing overview maps/automaps
  * Cleaned up session auth code (Moved session module code to auth handler)
  * Bugfix: The installer overwrites the default iconset files on upgrade as expected
  * Added mechanism to search userfiles in independent structures. This allows
    usage of the local/ structure in OMD
  * Bugfix: Fixed section merging in main config when using more than one config file
  * Using configured permissions on uploaded files (backgrounds, shapes, maps) now
  * Gadgets: Added gadget_type option which can now be img/html. The value
  defaults to img which is the default behaviour for all existing gadgets. The
  html mode assumes that the gadget does not render images as classic gadgets
  but renders HTML code
  * Changed redirect scripts index.php/config.php to ignore hosts/ports/proto
    just care about the paths - should be more robust

Automap
  * Made automap coord parsing regex resistent against html entities in the URL
  * Automap params changed via GUI can be made permanent now
  * The x/y coords don't need to be set as dummy values in automap configs anymore

Backend: Livestatus
  * Bugfix: PHP error when trying to write to socket while the remote host is not
    available

Frontend
  * Completely removed the WUI and merged the functionality into the regular frontend.
    You can now "lock/unlock" all objects for editing using the "Edit Map" menu.
  * Added new sidebar for better navigation. It can be opened by clicking on
    the "Open" label in the header menu. The state of the sidebar and the
    single nodes is stored in user specific profile files
  * Added new parameter {parent_map} to map/automap global sections which is
    used in header/sidebar menus to draw a map hierarchy
  * Colors and ranges of weathermap lines are now customizable using the
    object configuration option line_weather_colors
  * Fixed wrong label for MBit/s in weathermap bandwidth display
  * It is now possible to lock/unlock objects in regular frontend (with the
    necessary permissions)
  * Lines can now be repositioned by dragging the ends using the anchors in unlocked mode
    in regular frontend
  * The Line middle position can now be edited using the frontend for lines with two line parts
  * Added password reset form to user management dialog
  * Reduced ajax calls on map/automap/overview page load
  * Several code cleanups; Reduced duplicate code
  * Made background color in frontend configurable now
  * The header menu has a minimal width now to prevent broken header menu on small screens
  * The header menu is now positioned to be shown on the screen all the time
  * Recoded the header menu submenu code (simplified the HTML and JS code)
  * Added buttons to show/hide the header menu (state saved per user)
  * Added new option: event_log_events to define the number of events in the eventlog scrollback
  * Bugfix: Fixed php error when using custom css files in maps
  * Bugfix: Fixed css notices in firefox caused by invalid statements
    (transparency in IE, invalid width values for lines)
