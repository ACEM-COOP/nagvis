<?xml version="1.0" encoding="utf-8"?>
<Dialog xmlns="modules.gmap.*"
	xmlns:mx="http://www.adobe.com/2006/mxml"
	xmlns:flexlib="http://code.google.com/p/flexlib/"
>
    <mx:Metadata>
        [Event(name="save", type="flash.events.Event")]
        [Event(name="remove", type="flash.events.Event")]
    </mx:Metadata>
	<mx:Script>
		<![CDATA[
			import mx.controls.Alert;
			import com.google.maps.LatLng;

			[Bindable]
			public var locID : String;

			public function update(location : Location) : void
			{
				if (location)
				{
					locID = location.id;
					locName.text = location.label;
					locLat.text = LatLng.fromUrlValue(location.point).lat().toString();
					locLng.text = LatLng.fromUrlValue(location.point).lng().toString();
					locAddress.text = location.address;
					locDescription.text = location.description;
				}
				else
				{
					locID = "";
					locName.text = "";
					locLat.text = "";
					locLng.text = "";
					locAddress.text = "";
					locDescription.text = "";
				}
			}
		]]>
	</mx:Script>
	<mx:Style>
		@font-face
		{
			fontFamily: embededArial;
    		src: local("Arial");
    		font-weight: bold;
    		advancedAntiAliasing: true;
		}
		.accordion
        {
            borderStyle: none;
            headerStyleName: accordionHeader;
            headerWidth: 16;
        }
		.accordionHeader
		{
			fontFamily: embededArial;
			fontWeight: bold;
			fontSize: 10;
		}
	</mx:Style>

	<flexlib:HAccordion left="10" right="20" top="40" bottom="40" styleName="accordion" creationPolicy="all">
		<mx:Canvas label="General" width="100%" height="100%">
			<flexlib:PromptingTextInput id="locName" prompt="Name"
				left="10" right="10" top="0"
			/>
			<flexlib:PromptingTextInput id="locLat" prompt="Latitude"
				left="10" top="30" 	width="45%"
			 />
			<flexlib:PromptingTextInput id="locLng" prompt="Longitude"
				top="30" right="10"	width="45%"
		 	/>
			<flexlib:PromptingTextArea  id="locAddress" prompt="Address"
				right="10" left="10" top="60" bottom="0"
			/>
		</mx:Canvas>
		<mx:Canvas label="Description" width="100%" height="100%">
			<flexlib:PromptingTextArea  id="locDescription" prompt="Description"
				right="10" left="10" top="0" bottom="0"
			/>
		</mx:Canvas>
		<mx:Canvas label="Hosts" width="100%" height="100%">
			<mx:DataGrid id="locHosts" height="100%" right="10" left="10" top="0" bottom="0">
				<mx:columns>
					<mx:DataGridColumn width="15" dataField="selected" itemRenderer="mx.controls.CheckBox"/>
					<mx:DataGridColumn dataField="name"/>
					<mx:DataGridColumn dataField="address"/>
				</mx:columns>
			</mx:DataGrid>
		</mx:Canvas>
		<mx:Canvas label="Actions" width="100%" height="100%" horizontalScrollPolicy="off">
			<mx:RadioButtonGroup id="clickGroup"/>
			<mx:VBox left="5" right="0" top="10" bottom="0" borderStyle="solid" cornerRadius="4" borderColor="#000000" verticalAlign="middle">
				<mx:Spacer/>
				<mx:HBox width="100%">
					<mx:Spacer/>
					<mx:RadioButton id="locActionNo" label="do nothing" groupName="clickGroup" selected="true"/>
					<mx:Spacer/>
				</mx:HBox>
				<mx:HBox width="100%">
					<mx:Spacer/>
					<mx:RadioButton id="locActionUrl" label="go to" groupName="clickGroup"/>
					<flexlib:PromptingTextInput width="100%" prompt="URL" cornerRadius="4"/>
					<mx:Spacer/>
				</mx:HBox>
				<mx:HBox width="100%">
					<mx:Spacer/>
					<mx:RadioButton id="locActionNagvis" label="show NagVis map" groupName="clickGroup"/>
					<mx:Spacer/>
				</mx:HBox>
				<mx:HBox width="100%">
					<mx:Spacer width="30"/>
					<mx:ComboBox width="100%"></mx:ComboBox>
					<mx:Spacer/>
				</mx:HBox>
			</mx:VBox>
			<mx:TextInput cornerRadius="10" text="On Click" top="0" left="5" width="55" borderStyle="solid" editable="false"/>
		</mx:Canvas>
	</flexlib:HAccordion>
	<mx:Button label="Save" right="95" bottom="10" click="dispatchEvent(new Event('save'))"/>
	<mx:Button label="Delete" bottom="10" width="64" right="20" click="dispatchEvent(new Event('remove'))"/>
</Dialog>
